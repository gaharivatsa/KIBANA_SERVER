version: 1
name: kibana-logs-server
description: MCP server for accessing Kibana logs
repo: https://github.com/gaharivatsa/KIBANA_SERVER
homepage: https://github.com/gaharivatsa/KIBANA_SERVER
runtime: container

startCommand:
  type: http
  configSchema:
    type: object
    properties:
      kibana_host:
        type: string
        title: "Kibana Host URL"
        description: "Elasticsearch/Kibana host URL"
        default: "kibana.sso.mum.breeze.juspay.net"
      auth_token:
        type: string
        title: "Authentication Token"
        description: "Kibana authentication token"

build:
  dockerfile: Dockerfile
  dockerBuildPath: "."

env:
  PYTHONUNBUFFERED: "1"
  PORT: "8000"

endpoints:
  - path: /mcp
    methods: [GET, POST, DELETE]
    description: MCP protocol endpoint
  - path: /api/search_logs
    methods: [POST]
    description: Search Kibana logs
  - path: /api/set_auth_token
    methods: [POST] 
    description: Set authentication token